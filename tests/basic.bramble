# test hardlinks and symlinks


def link_test():
    return derivation(
        name="link-test",
        builder="fetch_url",
        env={
            "decompress": True,
            "url": "https://brmbl.s3.amazonaws.com/file-links.tar.gz",
        },
    )


load(busybox="github.com/maxmcd/bramble/tests/busybox")


def self_reference():
    return derivation(
        name="self-reference",
        builder=busybox.busybox().out + "/bin/ash",
        env={"PATH": busybox.busybox().out + "/bin"},
        args=[
            "-c",
            """
        pwd > $out/pwd
        """,
        ],
    )
